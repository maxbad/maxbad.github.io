<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Redis2 - Maxbad`Blog</title>
<link rel="shortcut icon" href="https://blog.myxy.net/favicon.ico">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css">
<link rel="stylesheet" href="https://blog.myxy.net/media/css/tailwind.css">
<link rel="stylesheet" href="https://blog.myxy.net/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="Redis2 - Maxbad`Blog - Atom Feed" href="https://blog.myxy.net/atom.xml">

    

  <meta name="description" content="结构类型



结构类型
结构存储的值
结构的读写能力




STRING
可以是字符串,整数或者浮点数
对整个字符串或者字符串的其中一部分执行操作;对整数和浮点数执行自增(increment)或者自减(decrement)操作


LI..." />
  <meta property="og:title" content="Redis2 - Maxbad`Blog">
  <meta property="og:description" content="结构类型



结构类型
结构存储的值
结构的读写能力




STRING
可以是字符串,整数或者浮点数
对整个字符串或者字符串的其中一部分执行操作;对整数和浮点数执行自增(increment)或者自减(decrement)操作


LI..." />
  <meta property="og:type" content="articles">
  <meta property="og:url" content="https://blog.myxy.net/redis2/" />
  <meta property="og:image" content="https://blog.myxy.net/images/avatar.png">
  <meta property="og:image:height" content="630">
  <meta property="og:image:width" content="1200">
  <meta name="twitter:title" content="Redis2 - Maxbad`Blog">
  <meta name="twitter:description" content="结构类型



结构类型
结构存储的值
结构的读写能力




STRING
可以是字符串,整数或者浮点数
对整个字符串或者字符串的其中一部分执行操作;对整数和浮点数执行自增(increment)或者自减(decrement)操作


LI...">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="canonical" href="https://blog.myxy.net/redis2/">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">
 
  
    <link rel="stylesheet" href="https://blog.myxy.net/media/css/prism-atom-dark.css">
  

  
</head>

<body>
  <div class="antialiased flex flex-col min-h-screen" id="app">
    <a href="https://blog.myxy.net" class="fixed top-0 left-0 mt-4 bg-black text-white dark:text-gray-700 dark:bg-yellow-50 dark:hover:bg-black dark:hover:text-white inline-flex p-2 pl-8 hover:text-gray-700 hover:bg-yellow-50 font-bold z-10 transition-fast animated fadeInLeft">
      Maxbad`Blog
    </a>
    <div class="max-w-4xl w-full mx-auto">
      <div class="shadow-box bg-white dark:bg-gray-600 rounded-lg pt-32 md:pt-64 px-4 md:px-8 pb-8 animated fadeIn mb-8">
        <h1 class="text-5xl font-semibold leading-normal pb-8 mb-8 border-b-8 border-gray-700">
          Redis2
        </h1>
        
        <div class="mb-8 flex flex-wrap">
          <div class="text-gray-400 text-sm mr-4">2020-09-22 · 10 min read</div>
          
        </div>
        <div class="markdown mb-8" v-pre>
          <h1 id="结构类型">结构类型</h1>
<table>
<thead>
<tr>
<th>结构类型</th>
<th style="text-align:left">结构存储的值</th>
<th style="text-align:left">结构的读写能力</th>
</tr>
</thead>
<tbody>
<tr>
<td>STRING</td>
<td style="text-align:left">可以是字符串,整数或者浮点数</td>
<td style="text-align:left">对整个字符串或者字符串的其中一部分执行操作;对整数和浮点数执行自增(increment)或者自减(decrement)操作</td>
</tr>
<tr>
<td>LIST</td>
<td style="text-align:left">一个链表,链表上的每个节点都包含了一个字符串</td>
<td style="text-align:left">从链表的两端推入或者弹出元素;根据偏移量对链表进行修剪(trim);读取单个或者多个元素;根据值查找或者移除元素</td>
</tr>
<tr>
<td>SET</td>
<td style="text-align:left">包含字符串的无序收集器(unordered collection),并且被包含的每个字符串都是独一无二,各不相同的</td>
<td style="text-align:left">添加,获取,移除单个元素;检查一个元素是否存在于集合中,计算交集,并集,差集;从集合里面随机获取元素</td>
</tr>
<tr>
<td>HASH</td>
<td style="text-align:left">包含键值对的无序散列表</td>
<td style="text-align:left">添加,获取,移除单个键值对;获取所有键值对</td>
</tr>
<tr>
<td>ZSET(有序集合)</td>
<td style="text-align:left">字符串成员(member)与浮点数分值(score)之间的有序映射,元素的排列顺序由分值的大小决定</td>
<td style="text-align:left">添加,获取,删除单个元素;根据分值范围(fange)或者成员来获取元素</td>
</tr>
</tbody>
</table>
<h2 id="string-字符串">STRING (字符串)</h2>
<blockquote>
<p>可存储: 字节串,整数,浮点数</p>
</blockquote>
<figure data-type="image" tabindex="1"><img src="https://blog.myxy.net/post-images/1600741899944.jpg" alt="" loading="lazy"></figure>
<table>
<thead>
<tr>
<th>命令</th>
<th style="text-align:left">行为</th>
<th style="text-align:left">其他</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td style="text-align:left">获取存储在给定键中的值</td>
<td style="text-align:left">不存在返回nil</td>
</tr>
<tr>
<td>SET</td>
<td style="text-align:left">设置存储在给定键中的值</td>
<td style="text-align:left">执行成功返回OK</td>
</tr>
<tr>
<td>DEL</td>
<td style="text-align:left">删除存储在给定键中的值</td>
<td style="text-align:left">这个命令可以用于所有类型,成功删除的值的数量</td>
</tr>
<tr>
<td>INCR</td>
<td style="text-align:left">将键存储的值加上1</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>DECR</td>
<td style="text-align:left">将键存储的值减去1</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>INCRBY</td>
<td style="text-align:left">将键存储的值加上整数 amount</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>DECRBY</td>
<td style="text-align:left">将键存储的值减去整数 amount</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>INCRBYFPOAT</td>
<td style="text-align:left">将键存储的值加上浮点数 amount</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h2 id="list-列表有序">LIST (列表)(有序)</h2>
<blockquote>
<p>列表结构可以<code>有序</code>地存储多个字符串,可重复<br>
<img src="https://blog.myxy.net/post-images/1600741872621.jpg" alt="" loading="lazy"></p>
</blockquote>
<table>
<thead>
<tr>
<th>命令</th>
<th style="text-align:left">行为</th>
<th style="text-align:left">其他</th>
</tr>
</thead>
<tbody>
<tr>
<td>RPUSH</td>
<td style="text-align:left">将给定值推入列表的右端</td>
<td style="text-align:left">返回列表当前的长度</td>
</tr>
<tr>
<td>LPUSH</td>
<td style="text-align:left">将一个或多个值推入列表的左端</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>LRANGE</td>
<td style="text-align:left">获取列表在给定范围上的所有值</td>
<td style="text-align:left">从0到-1范围可以去除全部列表</td>
</tr>
<tr>
<td>LINDEX</td>
<td style="text-align:left">获取列表在给定位置上的单个元素</td>
<td style="text-align:left">取单个</td>
</tr>
<tr>
<td>LPOP</td>
<td style="text-align:left">从列表的左端弹出一个值,并返回被弹出的值</td>
<td style="text-align:left">被弹出的元素将不再存在于列表</td>
</tr>
<tr>
<td>RPOP</td>
<td style="text-align:left">移除并返回列表最右端的元素</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>LTRIM</td>
<td style="text-align:left">对列表进行修剪,只保留从start偏移量到end偏移量范围内的元素,其中偏移量为start和偏移量为end的元素也会被保留</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>BLPOP</td>
<td style="text-align:left">从第一个非空列表中弹出位于最左端的元素,或者在timeout秒之内阻塞并等待可弹出的元素出现</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>BRPOP</td>
<td style="text-align:left">从第一个非空列表中弹出位于最右端的元素,或者在timeout秒之内阻塞并等待可弹出的元素出现</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>RPOPLPUSH</td>
<td style="text-align:left">从source-key列表中弹出位于最右端的元素,然后将这个元素推入dest-key列表的最左端,并向用户返回这个元素</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>BRPOPLPUSH</td>
<td style="text-align:left">从source-key列表中弹出位于最右端的元素,然后将这个元素推入dest-key列表的最左端,并向用户返回这个元素;如果source-key为空,那么在timeout秒之内阻塞并等待可弹出的元素出现</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h2 id="set-集合无序">SET (集合)(无序)</h2>
<blockquote>
<p>通过散列表来保证自己存储的每个字符串都是各不相同的(这些散列表只有键,但没有与键相关联的值),<code>无序</code>方式存储元素<br>
<img src="https://blog.myxy.net/post-images/1600741849673.jpg" alt="" loading="lazy"></p>
</blockquote>
<table>
<thead>
<tr>
<th>命令</th>
<th style="text-align:left">行为</th>
<th style="text-align:left">其他</th>
</tr>
</thead>
<tbody>
<tr>
<td>SADD</td>
<td style="text-align:left">将给定元素添加到集合</td>
<td style="text-align:left">返回1表示成功,返回0表示已存在</td>
</tr>
<tr>
<td>SMEMBERS</td>
<td style="text-align:left">返回集合包含的所有元素</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>SISMEMBER</td>
<td style="text-align:left">检查给定元素是否存在于集合中</td>
<td style="text-align:left">返回1表示存在,返回0表示不存在</td>
</tr>
<tr>
<td>SREM</td>
<td style="text-align:left">如果给定的元素存在于集合中,那么移除这个元素</td>
<td style="text-align:left">返回被移除元素的数量</td>
</tr>
<tr>
<td>SINTER</td>
<td style="text-align:left">交集</td>
<td style="text-align:left">返回那些同事存在于所有集合中的元素</td>
</tr>
<tr>
<td>SUNION</td>
<td style="text-align:left">并集</td>
<td style="text-align:left">返回那些至少存在于一个集合中的元素</td>
</tr>
<tr>
<td>SDIFF</td>
<td style="text-align:left">差集</td>
<td style="text-align:left">返回那些存在于第一个集合,但不存在与其他集合中的元素</td>
</tr>
<tr>
<td>SCARD</td>
<td style="text-align:left">返回集合包含的元素的数量</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>SRANDMEMBER</td>
<td style="text-align:left">从集合里面随机返回一个或多个元素,单count为正数时,命令返回的随机元素不会重复;当count为负数时.命令返回的随机数可能会出现重复</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>SPOP</td>
<td style="text-align:left">随机移除集合中的一个元素,并返回被移除的元素</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>SMOVE</td>
<td style="text-align:left">如果集合source-key包含元素item,那么从集合source-key里面移除元素item.,并将元素item添加到集合dest-key中;如果item被成功移除,那么返回1否则返回0</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>SDIFFSTORE</td>
<td style="text-align:left">将那些存在于第一个集合但并不存在于其他集合中的元素(差集运算)存储到dest-key键里面</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>SINTERSTORE</td>
<td style="text-align:left">将那些同时存在于所有集合的元素(交集运算)存储到dest-key键里面</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>SUNIONSTORE</td>
<td style="text-align:left">将那些是少存在于一个集合中的元素(并集计算)存储到dest-key键里面</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h2 id="hash-散列">HASH (散列)</h2>
<blockquote>
<p>可以存储多个键值对之间的映射,值可以是字符串也可以是数值,并且数值可以自增或自减操作.<br>
<img src="https://blog.myxy.net/post-images/1600741809702.jpg" alt="" loading="lazy"></p>
</blockquote>
<table>
<thead>
<tr>
<th>命令</th>
<th style="text-align:left">行为</th>
<th style="text-align:left">其他</th>
</tr>
</thead>
<tbody>
<tr>
<td>HSET</td>
<td style="text-align:left">在散列里面关联起给定的键值对</td>
<td style="text-align:left">1表示成功,0表示已存在</td>
</tr>
<tr>
<td>HGET</td>
<td style="text-align:left">获取指定散列键的值</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>HGETALL</td>
<td style="text-align:left">获取散列包含的所有键值对</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>HDEL</td>
<td style="text-align:left">如果给定的键存在于散列里面,那么移除这个键</td>
<td style="text-align:left">1表示成功,0表示不存在</td>
</tr>
<tr>
<td>HMGET</td>
<td style="text-align:left">从散列里面获取一个或多个键的值</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>HMSET</td>
<td style="text-align:left">为散列里面的一个或多个键设置值</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>HDEL</td>
<td style="text-align:left">删除散列里面的一个或多个键值对,返回成功找到并删除的键值对数量</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>HLEN</td>
<td style="text-align:left">返回散列包含的键值对数量</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>HEXISTS</td>
<td style="text-align:left">检查给定键是否存在于散列中</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>HKEYS</td>
<td style="text-align:left">获取散列包含的所有键</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>HVALS</td>
<td style="text-align:left">获取散列包含的所有值</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>HGETALL</td>
<td style="text-align:left">获取散列包含的所有键值对</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>HINCRBY</td>
<td style="text-align:left">将键key存储的值加上整数increment</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>HINCRBYFLOAT</td>
<td style="text-align:left">将键key存储的值加上浮点数increment</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h2 id="zset-有序集合">ZSET (有序集合)</h2>
<blockquote>
<p>有序集合的键被称为成员(member),每个成员都是各不相同的,有序集合的值被称为分值(score),分值必须为浮点数,有序集合是Redis里面唯一一个既可以根据成员访问元素(散列一样),有可以根据分值以及分值的排序来访问元素的结构<br>
<img src="https://blog.myxy.net/post-images/1600742459363.jpg" alt="" loading="lazy"></p>
</blockquote>
<table>
<thead>
<tr>
<th>命令</th>
<th style="text-align:left">行为</th>
<th style="text-align:left">其他</th>
</tr>
</thead>
<tbody>
<tr>
<td>ZADD</td>
<td style="text-align:left">将一个带有给定分值的成员添加到有序集合里面</td>
<td style="text-align:left">返回添加元素的数量</td>
</tr>
<tr>
<td>ZRANGE</td>
<td style="text-align:left">返回有序集合中排名介于start和stop之间的成员,如果给定了可选的withsocores选项,那么命令会将成员的分值也一并返回</td>
<td style="text-align:left">从0开始-1结束可返回全部</td>
</tr>
<tr>
<td>ZRANGEBYSCORE</td>
<td style="text-align:left">获取有序集合在给定分值范围内的所有元素</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>ZREM</td>
<td style="text-align:left">如果给定成员存在于有序集合,那么移除这个成员</td>
<td style="text-align:left">返回被移除元素的数量</td>
</tr>
<tr>
<td>ZCARD</td>
<td style="text-align:left">返回有序集合包含的成员数量</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>ZINCRBY</td>
<td style="text-align:left">返回分值介于min和max之间的成员数量</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>ZRANK</td>
<td style="text-align:left">返回成员member在有序集合中的排名</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>ZSCORE</td>
<td style="text-align:left">妇女和成员member的分值</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>ZREVRANK</td>
<td style="text-align:left">返回有序集合里成员member的排名.成员按照分值从大到小排列</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>ZREVRANGE</td>
<td style="text-align:left">返回有序集合给定排名范围内的成员,成员按照分值从大到小排序</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>ZRANGEBYSOCRE</td>
<td style="text-align:left">返回有序集合中,分值介于min和max之间的所有成员</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>ZREVRANGEBYSOCRE</td>
<td style="text-align:left">获取有序集合中分值介于min和max之间的所有成员,并按照分值从大到小的顺序来返回它们</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>ZREMRANGEBYRANK</td>
<td style="text-align:left">移除有序集合中排名界面start和stop之间的所有成员</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>ZREMRANGEBYSCORE</td>
<td style="text-align:left">移除有序集合中分值介于min和max之间的所有成员</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>ZINTERSTORE</td>
<td style="text-align:left">对给定的有序集合执行类似于集合的交集运算</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>ZUNIONSTORE</td>
<td style="text-align:left">对给定的有序集合执行类似于集合的并集运算</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h2 id="发布于订阅">发布于订阅</h2>
<table>
<thead>
<tr>
<th>命令</th>
<th style="text-align:left">示例</th>
<th style="text-align:left">行为</th>
</tr>
</thead>
<tbody>
<tr>
<td>SUBSCRIBE</td>
<td style="text-align:left">SUBSCRIBE changel [changel ...]</td>
<td style="text-align:left">订阅给定的一个或多个频道</td>
</tr>
<tr>
<td>UNSUBSCRIBE</td>
<td style="text-align:left">UNSUBSCRIBE [changel [changel ...]]</td>
<td style="text-align:left">退订给定的一个或多个频道,如果执行时没有给定任何频道,那么推定所有频道</td>
</tr>
<tr>
<td>PUBLISH</td>
<td style="text-align:left">PUBLIST changel message</td>
<td style="text-align:left">向给定频道发送消息</td>
</tr>
<tr>
<td>PSUBSCRIBE</td>
<td style="text-align:left">PSUBSCRIBE pattern [pattern ...]</td>
<td style="text-align:left">订阅与给定模式相匹配的所有频道</td>
</tr>
<tr>
<td>PUNSUBSCRIBE</td>
<td style="text-align:left">PUNSUBSCRIBE [pattern [pattern ...]]</td>
<td style="text-align:left">退订给定的模式,如果执行时没有给定任何模式,那么退订所有模式</td>
</tr>
</tbody>
</table>
<h2 id="其他命令">其他命令</h2>
<h3 id="排序">排序</h3>
<p>SORT命令不仅可以对列表进行排序,还可以对集合进行排序,然后返回一个列表形式的排序结果,</p>
<table>
<thead>
<tr>
<th>命令</th>
<th style="text-align:left">示例</th>
<th style="text-align:left">行为</th>
</tr>
</thead>
<tbody>
<tr>
<td>SORT</td>
<td style="text-align:left">SORT source-key [BY pattern] [LIMIT offset count] [GET pattern [GET pattern ...]] [ASC or DESC] [ALPHA] [STORE dest-key]</td>
<td style="text-align:left">根据给定的选项,对输入列表,集合或者有序集合进行排序,然后返回或者存储排序的结果</td>
</tr>
</tbody>
</table>
<h3 id="事务">事务</h3>
<blockquote>
<p>用户在不被打断的情况下对多个键执行操作</p>
</blockquote>
<table>
<thead>
<tr>
<th>命令</th>
<th style="text-align:left">示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>WATCH</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>MULTI</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>EXEC</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>UNWATCH</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>DISCARD</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h3 id="键的过期时间">键的过期时间</h3>
<table>
<thead>
<tr>
<th>命令</th>
<th style="text-align:left">示例</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>PERSIST</td>
<td style="text-align:left">PERSIST key-name</td>
<td style="text-align:left">移除键的国企时间</td>
</tr>
<tr>
<td>TTL</td>
<td style="text-align:left">TTL key-name</td>
<td style="text-align:left">查看给定键距离过期还有多少秒</td>
</tr>
<tr>
<td>EXPIRE</td>
<td style="text-align:left">EXPIRE key-name seconds</td>
<td style="text-align:left">让给定键在指定的秒数之后过期</td>
</tr>
<tr>
<td>EXPIREAT</td>
<td style="text-align:left">EXPIREAT key-name timestamp</td>
<td style="text-align:left">将给定键的过期时间设置为给定的unix时间戳</td>
</tr>
<tr>
<td>PTTL</td>
<td style="text-align:left">PTTL key-name</td>
<td style="text-align:left">查看给定键距离过期时间还有多少毫秒</td>
</tr>
<tr>
<td>PEXPIRE</td>
<td style="text-align:left">PEXPIRE key-name milliseconds</td>
<td style="text-align:left">让给定键在指定的毫秒数之后过期</td>
</tr>
<tr>
<td>PEXPIREAT</td>
<td style="text-align:left">PEXPIREAT key-name timestamp-milliseconds</td>
<td style="text-align:left">将一个毫秒级精度的unix时间戳设置为给定键的过期时间</td>
</tr>
</tbody>
</table>

        </div>
        <!-- Share to Twitter, Weibo, Telegram -->
        <div class="flex items-center">
          <div class="mr-4 flex items-center">
            <i class="ri-share-forward-line text-gray-500"></i>
          </div>
          <div class="px-4 cursor-pointer text-blue-500 hover:bg-blue-100 dark:hover:bg-gray-600 inline-flex" @click="shareToTwitter">
            <i class="ri-twitter-line"></i>
          </div>
          <div class="px-4 cursor-pointer text-red-500 hover:bg-red-100 dark:hover:bg-gray-600 inline-flex" @click="shareToWeibo">
            <i class="ri-weibo-line"></i>
          </div>
          <div class="px-4 cursor-pointer text-indigo-500 hover:bg-indigo-100 dark:hover:bg-gray-600 inline-flex" @click="shareToTelegram">
            <i class="ri-telegram-line"></i>
          </div>
        </div>
      </div>

      

      
        <div id="vlaine-comment"></div>
      

      <footer class="py-12 text-center px-4 md:px-0" v-pre>
   
</footer>
    </div>

    <!-- TOC Container -->
    <div class="fixed right-0 bottom-0 mb-16 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white dark:bg-gray-500 dark:text-gray-200 hover:shadow-lg transition-all animated fadeInRight" @click="showToc = true">
      <i class="ri-file-list-line"></i>
    </div>

    <div class="fixed right-0 top-0 bottom-0 overflow-y-auto w-64 bg-white dark:bg-gray-800 p-4 border-l border-gray-100 dark:border-gray-600 z-10 transition-fast" :class="{ '-mr-64': !showToc }">
      <div class="flex mb-4 justify-end">
        <div class="w-8 h-8 inline-flex justify-center items-center rounded-full cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-fast" @click="showToc = false">
          <i class="ri-close-line text-lg"></i>
        </div>
      </div>
      <div class="post-toc-container">
        <ul class="markdownIt-TOC">
<li><a href="#%E7%BB%93%E6%9E%84%E7%B1%BB%E5%9E%8B">结构类型</a>
<ul>
<li><a href="#string-%E5%AD%97%E7%AC%A6%E4%B8%B2">STRING (字符串)</a></li>
<li><a href="#list-%E5%88%97%E8%A1%A8%E6%9C%89%E5%BA%8F">LIST (列表)(有序)</a></li>
<li><a href="#set-%E9%9B%86%E5%90%88%E6%97%A0%E5%BA%8F">SET (集合)(无序)</a></li>
<li><a href="#hash-%E6%95%A3%E5%88%97">HASH (散列)</a></li>
<li><a href="#zset-%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88">ZSET (有序集合)</a></li>
<li><a href="#%E5%8F%91%E5%B8%83%E4%BA%8E%E8%AE%A2%E9%98%85">发布于订阅</a></li>
<li><a href="#%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4">其他命令</a>
<ul>
<li><a href="#%E6%8E%92%E5%BA%8F">排序</a></li>
<li><a href="#%E4%BA%8B%E5%8A%A1">事务</a></li>
<li><a href="#%E9%94%AE%E7%9A%84%E8%BF%87%E6%9C%9F%E6%97%B6%E9%97%B4">键的过期时间</a></li>
</ul>
</li>
</ul>
</li>
</ul>

      </div>
    </div>

    <!-- Back to top -->
    <div class="fixed right-0 bottom-0 mb-4 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white hover:shadow-lg transition-all dark:bg-gray-500 dark:text-gray-200" @click="backToUp" v-show="scrolled">
      <i class="ri-arrow-up-line"></i>
    </div>
  </div>

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- Background of PhotoSwipe. 
        It's a separate element as animating opacity is faster than rgba(). -->
  <div class="pswp__bg">
  </div>
  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">
    <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
    <div class="pswp__container">
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
    </div>
    <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
    <div class="pswp__ui pswp__ui--hidden">
      <div class="pswp__top-bar">
        <!--  Controls are self-explanatory. Order can be changed. -->
        <div class="pswp__counter">
        </div>
        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
        <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
        <!-- element will get class pswp__preloader--active when preloader is running -->
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip">
        </div>
      </div>
      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
      </button>
      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
      </button>
      <div class="pswp__caption">
        <div class="pswp__caption__center">
        </div>
      </div>
    </div>
  </div>
</div>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://blog.myxy.net/media/scripts/main.js"></script>
  
  <!-- Code Highlight -->
  
    <script src="https://blog.myxy.net/media/prism.js"></script>
    <script>
      Prism.highlightAll()
    </script>
  

  <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>
  <script>
    //拿到预览框架，也就是上面的html代码
    var pswpElement = document.querySelectorAll('.pswp')[0];
    //定义图片数组变量
    var imgitems;
    /**
    * 用于显示预览界面
    * @param index 图片数组下标
    */
    function viewImg(index) {
      //其它选项这里不做过多阐述，详情见官网
      var pswpoptions = {
        index: parseInt(index, 10), // 开始幻灯片索引。0是第一张幻灯片。必须是整数，而不是字符串。
        bgOpacity: 0.7, // 背景透明度，0-1
        maxSpreadZoom: 3, // 缩放级别，不要太大
      };
      //初始化并打开PhotoSwipe，pswpElement对应上面预览框架，PhotoSwipeUI_Default为皮肤，imgitems为图片数组，pswpoptions为选项
      var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, imgitems, pswpoptions);
      gallery.init()
    }
    /**
    * 用于添加图片点击事件
    * @param img 图片元素
    * @param index 所属下标（在imgitems中的位置）
    */
    function addImgClick(img, index) {
      img.onclick = function() {
        viewImg(index)
      }
    }
    /**
    * 轮询所有图片，获取src、width、height等数据，加入imgitems，并给图片元素添加事件
    * 最好在onload中执行该方法，本站因放在最底部，所以直接初始化
    * 异步加载图片可在图片元素创建完成后调用此方法
    */
    function initImg() {
      //重置图片数组
      imgitems = [];
      //查找class:markdown 下的所有img元素并遍历
      var imgs = document.querySelectorAll('.markdown img');
      for (var i = 0; i < imgs.length; i++) {
        var img = imgs[i];
        //本站相册初始为loading图片，真实图片放在data-src
        var ds = img.getAttribute("data-src");
        //创建image对象，用于获取图片宽高
        var imgtemp = new Image();
        //判断是否存在data-src
        if (ds != null && ds.length > 0) {
          imgtemp.src = ds
        } else {
          imgtemp.src = img.src
        }
        //判断是否存在缓存
        if (imgtemp.complete) {
          var imgobj = {
            "src": imgtemp.src,
            "w": imgtemp.width,
            "h": imgtemp.height,
          };
          imgitems[i] = imgobj;
          addImgClick(img, i);
        } else {
          console.log('进来了2')
          imgtemp.index = i;
          imgtemp.img = img;
          imgtemp.onload = function() {
            var imgobj = {
              "src": this.src,
              "w": this.width,
              "h": this.height,
            };
            //不要使用push，因为onload前后顺序会不同
            imgitems[this.index] = imgobj
            //添加点击事件
            addImgClick(this.img, this.index);
          }
        }
      }
    }
    //初始化
    initImg();
  </script>
  
    <script type="application/javascript" src="https://unpkg.com/valine"></script>
<script type="application/javascript">
  new Valine({
    el: '#vlaine-comment',
    appId: 'ShP9GugKCRogT3XJI7ygXVA8-gzGzoHsz',
    appKey: '7T6zCGYKlMV6sNz4aBoPhLE3',
    pageSize: 10,
    notify: true,
    avatar: 'mp',
    verify: true,
    placeholder: '来都来了，不妨评论一下',
    visitor: true,
    highlight: true,
    recordIP: true,
  })
</script>
  
  
</body>

</html>