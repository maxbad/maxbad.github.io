<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Redis2 - Maxbad`Blog</title>
<link rel="shortcut icon" href="https://blog.myxy.net/favicon.ico">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css">
<link rel="stylesheet" href="https://blog.myxy.net/media/css/tailwind.css">
<link rel="stylesheet" href="https://blog.myxy.net/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="Redis2 - Maxbad`Blog - Atom Feed" href="https://blog.myxy.net/atom.xml">

    

  <meta name="description" content="结构类型



结构类型
结构存储的值
结构的读写能力




STRING
可以是字符串,整数或者浮点数
对整个字符串或者字符串的其中一部分执行操作;对整数和浮点数执行自增(increment)或者自减(decrement)操作


LI..." />
  <meta property="og:title" content="Redis2 - Maxbad`Blog">
  <meta property="og:description" content="结构类型



结构类型
结构存储的值
结构的读写能力




STRING
可以是字符串,整数或者浮点数
对整个字符串或者字符串的其中一部分执行操作;对整数和浮点数执行自增(increment)或者自减(decrement)操作


LI..." />
  <meta property="og:type" content="articles">
  <meta property="og:url" content="https://blog.myxy.net/redis2/" />
  <meta property="og:image" content="https://blog.myxy.net/images/avatar.png">
  <meta property="og:image:height" content="630">
  <meta property="og:image:width" content="1200">
  <meta name="twitter:title" content="Redis2 - Maxbad`Blog">
  <meta name="twitter:description" content="结构类型



结构类型
结构存储的值
结构的读写能力




STRING
可以是字符串,整数或者浮点数
对整个字符串或者字符串的其中一部分执行操作;对整数和浮点数执行自增(increment)或者自减(decrement)操作


LI...">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="canonical" href="https://blog.myxy.net/redis2/">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">
 
  
    <link rel="stylesheet" href="https://blog.myxy.net/media/css/prism-atom-dark.css">
  

  
</head>

<body>
  <div class="antialiased flex flex-col min-h-screen" id="app">
    <a href="https://blog.myxy.net" class="fixed top-0 left-0 mt-4 bg-black text-white dark:text-gray-700 dark:bg-yellow-50 dark:hover:bg-black dark:hover:text-white inline-flex p-2 pl-8 hover:text-gray-700 hover:bg-yellow-50 font-bold z-10 transition-fast animated fadeInLeft">
      Maxbad`Blog
    </a>
    <div class="max-w-4xl w-full mx-auto">
      <div class="shadow-box bg-white dark:bg-gray-600 rounded-lg pt-32 md:pt-64 px-4 md:px-8 pb-8 animated fadeIn mb-8">
        <h1 class="text-5xl font-semibold leading-normal pb-8 mb-8 border-b-8 border-gray-700">
          Redis2
        </h1>
        
        <div class="mb-8 flex flex-wrap">
          <div class="text-gray-400 text-sm mr-4">2020-09-22 · 4 min read</div>
          
        </div>
        <div class="markdown mb-8" v-pre>
          <h1 id="结构类型">结构类型</h1>
<table>
<thead>
<tr>
<th>结构类型</th>
<th style="text-align:left">结构存储的值</th>
<th style="text-align:left">结构的读写能力</th>
</tr>
</thead>
<tbody>
<tr>
<td>STRING</td>
<td style="text-align:left">可以是字符串,整数或者浮点数</td>
<td style="text-align:left">对整个字符串或者字符串的其中一部分执行操作;对整数和浮点数执行自增(increment)或者自减(decrement)操作</td>
</tr>
<tr>
<td>LIST</td>
<td style="text-align:left">一个链表,链表上的每个节点都包含了一个字符串</td>
<td style="text-align:left">从链表的两端推入或者弹出元素;根据偏移量对链表进行修剪(trim);读取单个或者多个元素;根据值查找或者移除元素</td>
</tr>
<tr>
<td>SET</td>
<td style="text-align:left">包含字符串的无序收集器(unordered collection),并且被包含的每个字符串都是独一无二,各不相同的</td>
<td style="text-align:left">添加,获取,移除单个元素;检查一个元素是否存在于集合中,计算交集,并集,差集;从集合里面随机获取元素</td>
</tr>
<tr>
<td>HASH</td>
<td style="text-align:left">包含键值对的无序散列表</td>
<td style="text-align:left">添加,获取,移除单个键值对;获取所有键值对</td>
</tr>
<tr>
<td>ZSET(有序集合)</td>
<td style="text-align:left">字符串成员(member)与浮点数分值(score)之间的有序映射,元素的排列顺序由分值的大小决定</td>
<td style="text-align:left">添加,获取,删除单个元素;根据分值范围(fange)或者成员来获取元素</td>
</tr>
</tbody>
</table>
<h2 id="string-字符串">STRING (字符串)</h2>
<figure data-type="image" tabindex="1"><img src="https://blog.myxy.net/post-images/1600741899944.jpg" alt="" loading="lazy"></figure>
<table>
<thead>
<tr>
<th>命令</th>
<th style="text-align:left">行为</th>
<th style="text-align:left">其他</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td style="text-align:left">获取存储在给定键中的值</td>
<td style="text-align:left">不存在返回nil</td>
</tr>
<tr>
<td>SET</td>
<td style="text-align:left">设置存储在给定键中的值</td>
<td style="text-align:left">执行成功返回OK</td>
</tr>
<tr>
<td>DEL</td>
<td style="text-align:left">删除存储在给定键中的值</td>
<td style="text-align:left">这个命令可以用于所有类型,成功删除的值的数量</td>
</tr>
</tbody>
</table>
<h2 id="list-有序列表">LIST (有序列表)</h2>
<blockquote>
<p>列表结构可以<code>有序</code>地存储多个字符串,可重复<br>
<img src="https://blog.myxy.net/post-images/1600741872621.jpg" alt="" loading="lazy"></p>
</blockquote>
<table>
<thead>
<tr>
<th>命令</th>
<th style="text-align:left">行为</th>
<th style="text-align:left">其他</th>
</tr>
</thead>
<tbody>
<tr>
<td>RPUSH</td>
<td style="text-align:left">将给定值推入列表的右端</td>
<td style="text-align:left">返回列表当前的长度</td>
</tr>
<tr>
<td>LRANGE</td>
<td style="text-align:left">获取列表在给定范围上的所有值</td>
<td style="text-align:left">从0到-1范围可以去除全部列表</td>
</tr>
<tr>
<td>LINDEX</td>
<td style="text-align:left">获取列表在给定位置上的单个元素</td>
<td style="text-align:left">取单个</td>
</tr>
<tr>
<td>LPOP</td>
<td style="text-align:left">从列表的左端弹出一个值,并返回被弹出的值</td>
<td style="text-align:left">被弹出的元素将不再存在于列表</td>
</tr>
</tbody>
</table>
<h2 id="set-无序集合">SET (无序集合)</h2>
<blockquote>
<p>通过散列表来保证自己存储的每个字符串都是各不相同的(这些散列表只有键,但没有与键相关联的值),<code>无序</code>方式存储元素<br>
<img src="https://blog.myxy.net/post-images/1600741849673.jpg" alt="" loading="lazy"></p>
</blockquote>
<table>
<thead>
<tr>
<th>命令</th>
<th style="text-align:left">行为</th>
<th style="text-align:left">其他</th>
</tr>
</thead>
<tbody>
<tr>
<td>SADD</td>
<td style="text-align:left">将给定元素添加到集合</td>
<td style="text-align:left">返回1表示成功,返回0表示已存在</td>
</tr>
<tr>
<td>SMEMBERS</td>
<td style="text-align:left">返回集合包含的所有元素</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>SISMEMBER</td>
<td style="text-align:left">检查给定元素是否存在于集合中</td>
<td style="text-align:left">返回1表示存在,返回0表示不存在</td>
</tr>
<tr>
<td>SREM</td>
<td style="text-align:left">如果给定的元素存在于集合中,那么移除这个元素</td>
<td style="text-align:left">返回被移除元素的数量</td>
</tr>
<tr>
<td>SINTER</td>
<td style="text-align:left">交集</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>SUNION</td>
<td style="text-align:left">并集</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>SDIFF</td>
<td style="text-align:left">差集</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h2 id="hash-散列">HASH (散列)</h2>
<blockquote>
<p>可以存储多个键值对之间的映射,值可以是字符串也可以是数值,并且数值可以自增或自减操作.<br>
<img src="https://blog.myxy.net/post-images/1600741809702.jpg" alt="" loading="lazy"></p>
</blockquote>
<table>
<thead>
<tr>
<th>命令</th>
<th style="text-align:left">行为</th>
<th style="text-align:left">其他</th>
</tr>
</thead>
<tbody>
<tr>
<td>HSET</td>
<td style="text-align:left">在散列里面关联起给定的键值对</td>
<td style="text-align:left">1表示成功,0表示已存在</td>
</tr>
<tr>
<td>HGET</td>
<td style="text-align:left">获取指定散列键的值</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>HGETALL</td>
<td style="text-align:left">获取散列包含的所有键值对</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>HDEL</td>
<td style="text-align:left">如果给定的键存在于散列里面,那么移除这个键</td>
<td style="text-align:left">1表示成功,0表示不存在</td>
</tr>
</tbody>
</table>
<h2 id="zset-有序集合">ZSET (有序集合)</h2>
<blockquote>
<p>有序集合的键被称为成员(member),每个成员都是各不相同的,有序集合的值被称为分值(score),分值必须为浮点数,有序集合是Redis里面唯一一个既可以根据成员访问元素(散列一样),有可以根据分值以及分值的排序来访问元素的结构<br>
<img src="https://blog.myxy.net/post-images/1600742459363.jpg" alt="" loading="lazy"></p>
</blockquote>
<table>
<thead>
<tr>
<th>命令</th>
<th style="text-align:left">行为</th>
<th style="text-align:left">其他</th>
</tr>
</thead>
<tbody>
<tr>
<td>ZADD</td>
<td style="text-align:left">将一个带有给定分值的成员添加到有序集合里面</td>
<td style="text-align:left">返回添加元素的数量</td>
</tr>
<tr>
<td>ZRANGE</td>
<td style="text-align:left">根据元素在有序排列中所处的位置,从有序集合里面获取多个元素</td>
<td style="text-align:left">从0开始-1结束可返回全部</td>
</tr>
<tr>
<td>ZRANGEBYSCORE</td>
<td style="text-align:left">获取有序集合在给定分值范围内的所有元素</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>ZREM</td>
<td style="text-align:left">如果给定成员存在于有序集合,那么移除这个成员</td>
<td style="text-align:left">返回被移除元素的数量</td>
</tr>
</tbody>
</table>

        </div>
        <!-- Share to Twitter, Weibo, Telegram -->
        <div class="flex items-center">
          <div class="mr-4 flex items-center">
            <i class="ri-share-forward-line text-gray-500"></i>
          </div>
          <div class="px-4 cursor-pointer text-blue-500 hover:bg-blue-100 dark:hover:bg-gray-600 inline-flex" @click="shareToTwitter">
            <i class="ri-twitter-line"></i>
          </div>
          <div class="px-4 cursor-pointer text-red-500 hover:bg-red-100 dark:hover:bg-gray-600 inline-flex" @click="shareToWeibo">
            <i class="ri-weibo-line"></i>
          </div>
          <div class="px-4 cursor-pointer text-indigo-500 hover:bg-indigo-100 dark:hover:bg-gray-600 inline-flex" @click="shareToTelegram">
            <i class="ri-telegram-line"></i>
          </div>
        </div>
      </div>

      

      
        <div id="vlaine-comment"></div>
      

      <footer class="py-12 text-center px-4 md:px-0" v-pre>
   
</footer>
    </div>

    <!-- TOC Container -->
    <div class="fixed right-0 bottom-0 mb-16 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white dark:bg-gray-500 dark:text-gray-200 hover:shadow-lg transition-all animated fadeInRight" @click="showToc = true">
      <i class="ri-file-list-line"></i>
    </div>

    <div class="fixed right-0 top-0 bottom-0 overflow-y-auto w-64 bg-white dark:bg-gray-800 p-4 border-l border-gray-100 dark:border-gray-600 z-10 transition-fast" :class="{ '-mr-64': !showToc }">
      <div class="flex mb-4 justify-end">
        <div class="w-8 h-8 inline-flex justify-center items-center rounded-full cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-fast" @click="showToc = false">
          <i class="ri-close-line text-lg"></i>
        </div>
      </div>
      <div class="post-toc-container">
        <ul class="markdownIt-TOC">
<li><a href="#%E7%BB%93%E6%9E%84%E7%B1%BB%E5%9E%8B">结构类型</a>
<ul>
<li><a href="#string-%E5%AD%97%E7%AC%A6%E4%B8%B2">STRING (字符串)</a></li>
<li><a href="#list-%E6%9C%89%E5%BA%8F%E5%88%97%E8%A1%A8">LIST (有序列表)</a></li>
<li><a href="#set-%E6%97%A0%E5%BA%8F%E9%9B%86%E5%90%88">SET (无序集合)</a></li>
<li><a href="#hash-%E6%95%A3%E5%88%97">HASH (散列)</a></li>
<li><a href="#zset-%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88">ZSET (有序集合)</a></li>
</ul>
</li>
</ul>

      </div>
    </div>

    <!-- Back to top -->
    <div class="fixed right-0 bottom-0 mb-4 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white hover:shadow-lg transition-all dark:bg-gray-500 dark:text-gray-200" @click="backToUp" v-show="scrolled">
      <i class="ri-arrow-up-line"></i>
    </div>
  </div>

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- Background of PhotoSwipe. 
        It's a separate element as animating opacity is faster than rgba(). -->
  <div class="pswp__bg">
  </div>
  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">
    <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
    <div class="pswp__container">
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
    </div>
    <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
    <div class="pswp__ui pswp__ui--hidden">
      <div class="pswp__top-bar">
        <!--  Controls are self-explanatory. Order can be changed. -->
        <div class="pswp__counter">
        </div>
        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
        <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
        <!-- element will get class pswp__preloader--active when preloader is running -->
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip">
        </div>
      </div>
      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
      </button>
      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
      </button>
      <div class="pswp__caption">
        <div class="pswp__caption__center">
        </div>
      </div>
    </div>
  </div>
</div>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://blog.myxy.net/media/scripts/main.js"></script>
  
  <!-- Code Highlight -->
  
    <script src="https://blog.myxy.net/media/prism.js"></script>
    <script>
      Prism.highlightAll()
    </script>
  

  <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>
  <script>
    //拿到预览框架，也就是上面的html代码
    var pswpElement = document.querySelectorAll('.pswp')[0];
    //定义图片数组变量
    var imgitems;
    /**
    * 用于显示预览界面
    * @param index 图片数组下标
    */
    function viewImg(index) {
      //其它选项这里不做过多阐述，详情见官网
      var pswpoptions = {
        index: parseInt(index, 10), // 开始幻灯片索引。0是第一张幻灯片。必须是整数，而不是字符串。
        bgOpacity: 0.7, // 背景透明度，0-1
        maxSpreadZoom: 3, // 缩放级别，不要太大
      };
      //初始化并打开PhotoSwipe，pswpElement对应上面预览框架，PhotoSwipeUI_Default为皮肤，imgitems为图片数组，pswpoptions为选项
      var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, imgitems, pswpoptions);
      gallery.init()
    }
    /**
    * 用于添加图片点击事件
    * @param img 图片元素
    * @param index 所属下标（在imgitems中的位置）
    */
    function addImgClick(img, index) {
      img.onclick = function() {
        viewImg(index)
      }
    }
    /**
    * 轮询所有图片，获取src、width、height等数据，加入imgitems，并给图片元素添加事件
    * 最好在onload中执行该方法，本站因放在最底部，所以直接初始化
    * 异步加载图片可在图片元素创建完成后调用此方法
    */
    function initImg() {
      //重置图片数组
      imgitems = [];
      //查找class:markdown 下的所有img元素并遍历
      var imgs = document.querySelectorAll('.markdown img');
      for (var i = 0; i < imgs.length; i++) {
        var img = imgs[i];
        //本站相册初始为loading图片，真实图片放在data-src
        var ds = img.getAttribute("data-src");
        //创建image对象，用于获取图片宽高
        var imgtemp = new Image();
        //判断是否存在data-src
        if (ds != null && ds.length > 0) {
          imgtemp.src = ds
        } else {
          imgtemp.src = img.src
        }
        //判断是否存在缓存
        if (imgtemp.complete) {
          var imgobj = {
            "src": imgtemp.src,
            "w": imgtemp.width,
            "h": imgtemp.height,
          };
          imgitems[i] = imgobj;
          addImgClick(img, i);
        } else {
          console.log('进来了2')
          imgtemp.index = i;
          imgtemp.img = img;
          imgtemp.onload = function() {
            var imgobj = {
              "src": this.src,
              "w": this.width,
              "h": this.height,
            };
            //不要使用push，因为onload前后顺序会不同
            imgitems[this.index] = imgobj
            //添加点击事件
            addImgClick(this.img, this.index);
          }
        }
      }
    }
    //初始化
    initImg();
  </script>
  
    <script type="application/javascript" src="https://unpkg.com/valine"></script>
<script type="application/javascript">
  new Valine({
    el: '#vlaine-comment',
    appId: 'ShP9GugKCRogT3XJI7ygXVA8-gzGzoHsz',
    appKey: '7T6zCGYKlMV6sNz4aBoPhLE3',
    pageSize: 10,
    notify: true,
    avatar: 'mp',
    verify: true,
    placeholder: '来都来了，不妨评论一下',
    visitor: true,
    highlight: true,
    recordIP: true,
  })
</script>
  
  
</body>

</html>